services:
  landing:
    container_name: landing-edge
    ports: []
    volumes:
      - ./infra/nginx/conf.d/landing.prod.http.conf:/etc/nginx/conf.d/default.conf:ro
      - ./infra/nginx/includes:/etc/nginx/includes:ro
    networks:
      - edge
    labels:
      - "traefik.enable=true"
      - "traefik.docker.network=${EDGE_NETWORK:-edge}"
      - "traefik.http.routers.landing.rule=Host(`${LANDING_DOMAIN}`)"
      - "traefik.http.routers.landing.entrypoints=websecure"
      - "traefik.http.routers.landing.tls=true"
      - "traefik.http.services.landing.loadbalancer.server.port=80"

networks:
  edge:
    external: true
    name: ${EDGE_NETWORK:-edge}

